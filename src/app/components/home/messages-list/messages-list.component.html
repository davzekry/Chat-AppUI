<div class="message-area" #messageArea>
  <div *ngFor="let msg of messages" class="message-item">
    <div
      class="message"
      [class.sent]="isMessageSent(msg)"
      [class.received]="!isMessageSent(msg)"
      [class.sending]="msg.status === 'sending'"
      [class.failed]="msg.status === 'failed'"
    >
      <div class="message-content">
        <div *ngIf="!isMessageSent(msg)" class="message-sender">{{ msg.userName }}</div>
        <p>{{ msg.displayContent }}</p>
        <div class="message-time">{{ msg.createdAt | date : 'shortTime' }}</div>
      </div>
    </div>
  </div>
</div>
