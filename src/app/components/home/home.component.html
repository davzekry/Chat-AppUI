<div class="chat-container">
  <!-- Left Sidebar -->
  <aside class="sidebar rooms-list">
    <div class="sidebar-header"><h3>Rooms</h3></div>
    <app-room-list
      [rooms]="(rooms$ | async)"
      [selectedRoomId]="selectedRoom?.roomId ?? null"
      (roomSelected)="selectRoom($event)">
    </app-room-list>
  </aside>

  <!-- Main Chat Area -->
  <main class="chat-area">
    <header class="chat-header">
      <h4>{{ selectedRoom?.roomName || 'Select a Room' }}</h4>
      <span *ngIf="!selectedRoom">Select a room to start messaging.</span>
    </header>

    <!-- USE THE MESSAGE-LIST COMPONENT -->
    <app-message-list
      [messages]="messages"
      [currentUserId]="currentUserId">
    </app-message-list>

    <!-- USE THE MESSAGE-INPUT COMPONENT -->
    <app-message-input
      [isDisabled]="!selectedRoom"
      (messageSent)="sendMessage($event)">
    </app-message-input>
  </main>

  <!-- Right Sidebar -->
  <aside class="sidebar users-list">
    <div class="sidebar-header"><h3>Users</h3></div>
    <app-users-list
      [users]="(users$ | async)"
      (userSelected)="createAndSelectPrivateRoom($event)">
    </app-users-list>
  </aside>
</div>
